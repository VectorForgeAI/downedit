:root{--bg-primary: #ffffff;--bg-secondary: #f5f5f5;--bg-tertiary: #e8e8e8;--text-primary: #1a1a1a;--text-secondary: #666666;--text-muted: #999999;--accent: #0066cc;--accent-hover: #0052a3;--border: #e0e0e0;--border-light: #f0f0f0;--code-bg: #f6f8fa;--code-text: #24292e;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px rgba(0, 0, 0, .1);--toolbar-height: 48px;--tabs-height: 40px;--status-height: 32px;--formatting-height: 44px;--font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif;--font-mono: "SF Mono", "Cascadia Code", Consolas, monospace;--safe-area-top: env(safe-area-inset-top, 0px);--safe-area-bottom: env(safe-area-inset-bottom, 0px);--safe-area-left: env(safe-area-inset-left, 0px);--safe-area-right: env(safe-area-inset-right, 0px)}[data-theme=dark]{--bg-primary: #1e1e1e;--bg-secondary: #252526;--bg-tertiary: #2d2d2d;--text-primary: #e0e0e0;--text-secondary: #a0a0a0;--text-muted: #707070;--accent: #4da6ff;--accent-hover: #66b3ff;--border: #404040;--border-light: #333333;--code-bg: #2d2d2d;--code-text: #d4d4d4;--shadow-sm: 0 1px 2px rgba(0, 0, 0, .2);--shadow-md: 0 4px 6px rgba(0, 0, 0, .3)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html{height:100%;height:-webkit-fill-available}body{height:100%;min-height:-webkit-fill-available;overflow:hidden;font-family:var(--font-sans);font-size:16px;line-height:1.5;color:var(--text-primary);background-color:var(--bg-primary);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;touch-action:manipulation}#app{height:100%;display:flex;flex-direction:column;padding-top:var(--safe-area-top);padding-bottom:var(--safe-area-bottom);padding-left:var(--safe-area-left);padding-right:var(--safe-area-right)}.toolbar{height:var(--toolbar-height);background:var(--bg-secondary);border-bottom:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 8px;flex-shrink:0;user-select:none;gap:4px}.toolbar-left,.toolbar-right{display:flex;align-items:center;gap:2px}.toolbar-btn{display:flex;align-items:center;justify-content:center;min-width:40px;height:40px;padding:0 10px;background:transparent;border:none;border-radius:8px;color:var(--text-primary);font-size:13px;cursor:pointer;transition:background-color .15s;gap:6px}.toolbar-btn:hover,.toolbar-btn:active{background:var(--bg-tertiary)}.toolbar-btn svg{flex-shrink:0}.toolbar-btn span{display:none}@media (min-width: 640px){.toolbar-btn span{display:inline}}.toolbar-divider{width:1px;height:24px;background:var(--border);margin:0 4px}.view-mode-toggle{display:flex;background:var(--bg-tertiary);border-radius:8px;padding:3px}.mode-btn{padding:6px 12px;background:transparent;border:none;border-radius:6px;color:var(--text-secondary);font-size:13px;font-weight:500;cursor:pointer;transition:all .15s}.mode-btn:hover{color:var(--text-primary)}.mode-btn.active{background:var(--bg-primary);color:var(--text-primary);box-shadow:var(--shadow-sm)}.tabs-container{background:var(--bg-secondary);border-bottom:1px solid var(--border);flex-shrink:0}.tabs{display:flex;align-items:flex-end;height:var(--tabs-height);padding:0 8px;overflow-x:auto;scrollbar-width:none;-webkit-overflow-scrolling:touch}.tabs::-webkit-scrollbar{display:none}.tab{display:flex;align-items:center;gap:8px;padding:8px 12px;background:transparent;border:1px solid transparent;border-bottom:none;border-radius:8px 8px 0 0;color:var(--text-secondary);font-size:14px;cursor:pointer;transition:all .15s;max-width:160px;flex-shrink:0;position:relative}.tab:hover{color:var(--text-primary);background:var(--bg-tertiary)}.tab.active{background:var(--bg-primary);color:var(--text-primary);border-color:var(--border)}.tab.active:after{content:"";position:absolute;bottom:-1px;left:0;right:0;height:1px;background:var(--bg-primary)}.tab.dirty .tab-title:after{content:" *";color:var(--accent)}.tab-title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tab-close{display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:4px;background:transparent;border:none;color:var(--text-muted);font-size:18px;line-height:1;cursor:pointer}.tab-close:hover{background:var(--border);color:var(--text-primary)}.formatting-toolbar{height:var(--formatting-height);background:var(--bg-secondary);border-bottom:1px solid var(--border);display:flex;align-items:center;padding:0 8px;gap:4px;flex-shrink:0;overflow-x:auto;scrollbar-width:none;-webkit-overflow-scrolling:touch}.formatting-toolbar::-webkit-scrollbar{display:none}.formatting-toolbar.hidden{display:none}.format-group{display:flex;align-items:center;gap:2px;flex-shrink:0}.format-btn{width:36px;height:36px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:6px;color:var(--text-secondary);cursor:pointer;transition:all .15s}.format-btn:hover,.format-btn:active{background:var(--bg-tertiary);color:var(--text-primary)}.format-divider{width:1px;height:24px;background:var(--border);margin:0 4px;flex-shrink:0}.format-dropdown{position:relative}.format-dropdown-btn{display:flex;align-items:center;gap:2px;width:auto;padding:0 10px;font-weight:600}.format-dropdown-menu{position:absolute;top:100%;left:0;margin-top:4px;background:var(--bg-primary);border:1px solid var(--border);border-radius:8px;box-shadow:var(--shadow-md);min-width:140px;z-index:100;padding:4px}.format-dropdown-menu.hidden{display:none}.dropdown-item{display:block;width:100%;padding:10px 12px;background:transparent;border:none;border-radius:6px;text-align:left;color:var(--text-primary);font-size:14px;cursor:pointer;transition:background .15s}.dropdown-item:hover,.dropdown-item:active{background:var(--bg-tertiary)}.export-dropdown{position:relative}.export-dropdown-menu{position:absolute;top:100%;right:0;margin-top:4px;background:var(--bg-primary);border:1px solid var(--border);border-radius:8px;box-shadow:var(--shadow-md);min-width:160px;z-index:100;padding:4px}.export-dropdown-menu.hidden{display:none}.main-container{flex:1;display:flex;flex-direction:column;overflow:hidden;position:relative}.welcome-screen{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px;text-align:center}.welcome-screen.hidden{display:none}.welcome-icon{color:var(--text-muted);margin-bottom:20px}.welcome-screen h2{font-size:24px;font-weight:600;color:var(--text-primary);margin-bottom:8px}.welcome-screen>p{color:var(--text-secondary);margin-bottom:24px;font-size:15px}.welcome-actions{display:flex;flex-direction:column;gap:12px;width:100%;max-width:280px}@media (min-width: 400px){.welcome-actions{flex-direction:row;max-width:none;width:auto}}.btn-primary,.btn-secondary{padding:12px 24px;border:none;border-radius:8px;font-size:15px;font-weight:500;cursor:pointer;transition:all .15s}.btn-primary{background:var(--accent);color:#fff}.btn-primary:hover,.btn-primary:active{background:var(--accent-hover)}.btn-secondary{background:var(--bg-tertiary);color:var(--text-primary)}.btn-secondary:hover,.btn-secondary:active{background:var(--border)}.welcome-hint{margin-top:24px;color:var(--text-muted);font-size:13px}.editor-container{flex:1;display:flex;flex-direction:column;overflow:hidden}.editor-container.hidden{display:none}.preview-pane{flex:1;display:flex;flex-direction:column;overflow:hidden;min-height:100px;background:var(--bg-primary);border-bottom:1px solid var(--border)}.resize-handle{height:8px;background:var(--bg-secondary);cursor:row-resize;transition:background .15s;display:flex;align-items:center;justify-content:center;flex-shrink:0;touch-action:none}.resize-handle:before{content:"";width:40px;height:4px;background:var(--border);border-radius:2px}.resize-handle:hover,.resize-handle.dragging{background:var(--bg-tertiary)}.resize-handle:hover:before,.resize-handle.dragging:before{background:var(--accent)}.editor-pane{flex:1;display:flex;flex-direction:column;overflow:hidden;min-height:150px}.editor-wrapper{flex:1;display:flex;overflow:hidden}.editor{flex:1;width:100%;padding:16px;background:var(--bg-primary);border:none;outline:none;resize:none;font-family:var(--font-mono);font-size:15px;line-height:1.6;color:var(--text-primary);tab-size:2;overflow-y:auto;-webkit-overflow-scrolling:touch}.editor::placeholder{color:var(--text-muted)}.editor-container[data-mode=edit] .preview-pane,.editor-container[data-mode=edit] .resize-handle{display:none}.editor-container[data-mode=edit] .editor-pane{flex:1}.editor-container[data-mode=preview] .editor-pane,.editor-container[data-mode=preview] .resize-handle{display:none}.editor-container[data-mode=preview] .preview-pane{flex:1;border-bottom:none}.markdown-viewer{flex:1;overflow-y:auto;padding:16px;-webkit-overflow-scrolling:touch}@media (min-width: 640px){.markdown-viewer{padding:24px;max-width:800px;margin:0 auto}}.markdown-viewer h1,.markdown-viewer h2,.markdown-viewer h3,.markdown-viewer h4,.markdown-viewer h5,.markdown-viewer h6{margin-top:20px;margin-bottom:12px;font-weight:600;line-height:1.25;color:var(--text-primary)}.markdown-viewer h1{font-size:1.75em;border-bottom:1px solid var(--border);padding-bottom:.3em}.markdown-viewer h2{font-size:1.4em;border-bottom:1px solid var(--border);padding-bottom:.3em}.markdown-viewer h3{font-size:1.2em}.markdown-viewer h4{font-size:1em}.markdown-viewer p{margin-bottom:14px;color:var(--text-primary)}.markdown-viewer a{color:var(--accent);text-decoration:none}.markdown-viewer a:hover{text-decoration:underline}.markdown-viewer strong{font-weight:600}.markdown-viewer em{font-style:italic}.markdown-viewer code{font-family:var(--font-mono);font-size:.9em;padding:.2em .4em;background:var(--code-bg);border-radius:4px;color:var(--code-text)}.markdown-viewer pre{margin-bottom:16px;padding:12px;background:var(--code-bg);border-radius:8px;overflow-x:auto;-webkit-overflow-scrolling:touch}.markdown-viewer pre code{padding:0;background:transparent;font-size:13px;line-height:1.5}.code-block-wrapper{position:relative;margin-bottom:16px}.code-block-header{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;background:var(--bg-tertiary);border-radius:8px 8px 0 0;font-size:12px;color:var(--text-secondary)}.code-block-wrapper pre{margin-bottom:0;border-radius:0 0 8px 8px}.copy-btn{padding:4px 10px;background:transparent;border:1px solid var(--border);border-radius:4px;color:var(--text-secondary);font-size:12px;cursor:pointer;transition:all .15s}.copy-btn:hover,.copy-btn:active{background:var(--bg-secondary);color:var(--text-primary)}.copy-btn.copied{background:#22c55e;color:#fff;border-color:#22c55e}.markdown-viewer ul,.markdown-viewer ol{margin-bottom:16px;padding-left:1.5em}.markdown-viewer li{margin-bottom:4px}.markdown-viewer ul.task-list{list-style:none;padding-left:0}.markdown-viewer .task-list-item{display:flex;align-items:flex-start;gap:8px}.markdown-viewer .task-list-item input[type=checkbox]{margin-top:4px;accent-color:var(--accent)}.markdown-viewer blockquote{margin-bottom:16px;padding:0 1em;border-left:4px solid var(--border);color:var(--text-secondary)}.markdown-viewer table{width:100%;margin-bottom:16px;border-collapse:collapse;font-size:14px}.markdown-viewer th,.markdown-viewer td{padding:8px 12px;border:1px solid var(--border);text-align:left}.markdown-viewer th{background:var(--bg-secondary);font-weight:600}.markdown-viewer hr{margin:24px 0;border:none;border-top:1px solid var(--border)}.markdown-viewer img{max-width:100%;height:auto;border-radius:8px;margin:12px 0}.status-bar{height:var(--status-height);background:var(--bg-secondary);border-top:1px solid var(--border);display:flex;align-items:center;justify-content:space-between;padding:0 12px;font-size:12px;color:var(--text-secondary);flex-shrink:0}.status-bar.hidden{display:none}.status-left,.status-right{display:flex;align-items:center;gap:8px}.status-item{display:flex;align-items:center;gap:4px}.autosave-indicator{width:8px;height:8px;border-radius:50%;background:#22c55e}.autosave-indicator.saving{background:#f59e0b;animation:pulse 1s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.modal-overlay{position:fixed;inset:0;background:#00000080;display:flex;align-items:flex-end;justify-content:center;z-index:1000;padding:var(--safe-area-bottom)}@media (min-width: 640px){.modal-overlay{align-items:center;padding:20px}}.modal-overlay.hidden{display:none}.modal{background:var(--bg-primary);border-radius:16px 16px 0 0;box-shadow:var(--shadow-md);width:100%;max-height:80vh;overflow:hidden;display:flex;flex-direction:column}@media (min-width: 640px){.modal{border-radius:12px;width:400px;max-height:90vh}}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;border-bottom:1px solid var(--border)}.modal-header h3{font-size:17px;font-weight:600;color:var(--text-primary)}.modal-close{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:transparent;border:none;border-radius:6px;color:var(--text-secondary);font-size:24px;cursor:pointer}.modal-close:hover,.modal-close:active{background:var(--bg-tertiary);color:var(--text-primary)}.modal-body{padding:20px;overflow-y:auto;-webkit-overflow-scrolling:touch}.modal-footer{display:flex;justify-content:flex-end;gap:8px;padding:16px 20px;border-top:1px solid var(--border)}.form-group{margin-bottom:16px}.form-group:last-child{margin-bottom:0}.form-group label{display:block;margin-bottom:6px;font-size:14px;font-weight:500;color:var(--text-secondary)}.form-group input,.form-group select{width:100%;padding:12px 14px;background:var(--bg-secondary);border:1px solid var(--border);border-radius:8px;font-size:16px;color:var(--text-primary);font-family:inherit;-webkit-appearance:none}.form-group input:focus,.form-group select:focus{outline:none;border-color:var(--accent)}.form-group input::placeholder{color:var(--text-muted)}.form-row{display:flex;gap:12px}.form-row .form-group{flex:1}.documents-panel{position:fixed;top:0;left:0;bottom:0;width:280px;max-width:80vw;background:var(--bg-secondary);border-right:1px solid var(--border);transform:translate(-100%);transition:transform .3s ease;z-index:500;display:flex;flex-direction:column;padding-top:var(--safe-area-top)}.documents-panel.visible{transform:translate(0)}.documents-header{display:flex;align-items:center;justify-content:space-between;padding:16px;border-bottom:1px solid var(--border)}.documents-header h3{font-size:16px;font-weight:600}.documents-content{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch}.doc-item{display:flex;flex-direction:column;padding:12px 16px;border-bottom:1px solid var(--border-light);cursor:pointer;transition:background .15s}.doc-item:hover,.doc-item:active{background:var(--bg-tertiary)}.doc-item.active{background:var(--accent);color:#fff}.doc-item.active .doc-date{color:#ffffffb3}.doc-name{font-size:14px;font-weight:500}.doc-date{font-size:12px;color:var(--text-muted);margin-top:2px}.no-docs{padding:24px 16px;text-align:center;color:var(--text-muted);font-size:14px}.hidden{display:none!important}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}::selection{background:var(--accent);color:#fff}:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.btn-install{background:var(--accent);color:#fff}.btn-install.hidden{display:none}@media (display-mode: standalone){.toolbar{padding-top:4px}}@media (max-height: 500px) and (orientation: landscape){.toolbar{height:40px}.tabs-container{display:none}.formatting-toolbar{height:36px}.status-bar{height:24px}.format-btn{width:32px;height:32px}.toolbar-btn{min-width:36px;height:36px}}
