<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MarkdownViewer</title>
  <link rel="stylesheet" href="/src/styles.css">
</head>
<body>
  <div id="app">
    <!-- Toolbar -->
    <header class="toolbar">
      <div class="toolbar-left">
        <button id="btn-new" class="toolbar-btn" title="New File (Ctrl+N)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
          </svg>
          <span>New</span>
        </button>
        <button id="btn-open" class="toolbar-btn" title="Open File (Ctrl+O)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v.64c.57.265.94.876.856 1.546l-.64 5.124A2.5 2.5 0 0 1 12.733 15H3.266a2.5 2.5 0 0 1-2.481-2.19l-.64-5.124A1.5 1.5 0 0 1 1 6.14zM2 6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5a.5.5 0 0 0-.5.5z"/>
          </svg>
          <span>Open</span>
        </button>
        <button id="btn-save" class="toolbar-btn" title="Save (Ctrl+S)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"/>
          </svg>
          <span>Save</span>
        </button>
        <button id="btn-history" class="toolbar-btn" title="Document History (Ctrl+H)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z"/>
            <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z"/>
            <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>
          </svg>
          <span>History</span>
        </button>
        <div class="toolbar-divider"></div>
        <button id="btn-outline" class="toolbar-btn" title="Toggle Outline (Ctrl+Shift+O)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5zM5 3.5A.5.5 0 0 1 5.5 3h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zM2 7a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1A.5.5 0 0 0 3 7zm-.5 4.5A.5.5 0 0 1 2 11h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5z"/>
          </svg>
          <span>Outline</span>
        </button>
      </div>
      <div class="toolbar-center">
        <div class="view-mode-toggle">
          <button id="btn-mode-edit" class="mode-btn" title="Edit Mode (Ctrl+1)">Edit</button>
          <button id="btn-mode-split" class="mode-btn active" title="Split Mode (Ctrl+2)">Split</button>
          <button id="btn-mode-preview" class="mode-btn" title="Preview Mode (Ctrl+3)">Preview</button>
        </div>
      </div>
      <div class="toolbar-right">
        <button id="btn-fullscreen" class="toolbar-btn" title="Toggle Fullscreen (F11)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M1.5 1a.5.5 0 0 0-.5.5v4a.5.5 0 0 1-1 0v-4A1.5 1.5 0 0 1 1.5 0h4a.5.5 0 0 1 0 1zM10 .5a.5.5 0 0 1 .5-.5h4A1.5 1.5 0 0 1 16 1.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 0-.5-.5h-4a.5.5 0 0 1-.5-.5M.5 10a.5.5 0 0 1 .5.5v4a.5.5 0 0 0 .5.5h4a.5.5 0 0 1 0 1h-4A1.5 1.5 0 0 1 0 14.5v-4a.5.5 0 0 1 .5-.5m15 0a.5.5 0 0 1 .5.5v4a1.5 1.5 0 0 1-1.5 1.5h-4a.5.5 0 0 1 0-1h4a.5.5 0 0 0 .5-.5v-4a.5.5 0 0 1 .5-.5"/>
          </svg>
        </button>
        <button id="btn-theme" class="toolbar-btn" title="Toggle Theme">
          <svg id="icon-theme" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8m.5-9.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 11a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m5-5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m-11 0a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m9.743-4.036a.5.5 0 1 1-.707-.707.5.5 0 0 1 .707.707m-7.779 7.779a.5.5 0 1 1-.707-.707.5.5 0 0 1 .707.707m7.072 0a.5.5 0 1 1 .707-.707.5.5 0 0 1-.707.707m-7.779-7.779a.5.5 0 1 1 .707-.707.5.5 0 0 1-.707.707"/>
          </svg>
          <span id="theme-label">System</span>
        </button>
      </div>
    </header>

    <!-- Tabs -->
    <div class="tabs-container">
      <div id="tabs" class="tabs">
        <!-- Tabs will be inserted here -->
      </div>
    </div>

    <!-- Main content area -->
    <div class="main-container">
      <!-- Outline panel -->
      <aside id="outline-panel" class="outline-panel hidden">
        <div class="outline-header">
          <h3>Outline</h3>
          <button id="btn-close-outline" class="btn-icon" title="Close">x</button>
        </div>
        <nav id="outline-content" class="outline-content">
          <!-- Outline items will be inserted here -->
        </nav>
      </aside>

      <!-- Content area -->
      <main id="content-area" class="content-area">
        <div id="welcome" class="welcome-screen">
          <div class="welcome-icon">
            <svg width="64" height="64" viewBox="0 0 16 16" fill="currentColor">
              <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"/>
              <path d="M4.5 6.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5m0 2A.5.5 0 0 1 5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5"/>
            </svg>
          </div>
          <h2>Welcome to MarkdownViewer</h2>
          <p>Open a markdown file to get started, or create a new one</p>
          <div class="welcome-actions">
            <button id="btn-new-welcome" class="btn-primary">New File</button>
            <button id="btn-open-welcome" class="btn-secondary">Open File</button>
          </div>
          <div class="welcome-hint">
            <p>Or drag and drop a .md or .txt file here</p>
            <p class="shortcut-hint">Ctrl+N new file &bull; Ctrl+O open file</p>
          </div>
        </div>

        <!-- Split editor view -->
        <div id="editor-container" class="editor-container hidden">
          <div id="editor-pane" class="editor-pane">
            <div class="editor-wrapper">
              <div id="line-numbers" class="line-numbers">1</div>
              <textarea id="editor" class="editor" placeholder="Start typing your markdown here..." spellcheck="false"></textarea>
            </div>
          </div>
          <div id="resize-handle" class="resize-handle"></div>
          <div id="preview-pane" class="preview-pane">
            <div id="viewer" class="markdown-viewer">
              <!-- Rendered markdown will appear here -->
            </div>
          </div>
        </div>
      </main>

      <!-- History panel -->
      <aside id="history-panel" class="history-panel hidden">
        <div class="history-header">
          <h3>History</h3>
          <button id="btn-close-history" class="btn-icon" title="Close">x</button>
        </div>
        <div id="history-content" class="history-content">
          <!-- History items will be inserted here -->
        </div>
      </aside>
    </div>

    <!-- Status bar -->
    <footer id="status-bar" class="status-bar hidden">
      <div class="status-left">
        <span id="status-autosave" class="status-item">
          <span class="autosave-indicator"></span>
          <span id="autosave-text">Auto-saved</span>
        </span>
      </div>
      <div class="status-right">
        <span id="status-line" class="status-item">Ln 1, Col 1</span>
        <span class="status-divider">&bull;</span>
        <span id="status-wordcount" class="status-item">0 words</span>
        <span class="status-divider">&bull;</span>
        <span id="status-charcount" class="status-item">0 characters</span>
      </div>
    </footer>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
