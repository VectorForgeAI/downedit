<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>down.edit</title>
  <link rel="stylesheet" href="/src/styles.css">
</head>
<body>
  <div id="app">
    <!-- Toolbar -->
    <header class="toolbar">
      <div class="toolbar-left">
        <button id="btn-new" class="toolbar-btn" title="New File (Ctrl+N)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
          </svg>
          <span>New</span>
        </button>
        <button id="btn-open" class="toolbar-btn" title="Open File (Ctrl+O)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M1 3.5A1.5 1.5 0 0 1 2.5 2h2.764c.958 0 1.76.56 2.311 1.184C7.985 3.648 8.48 4 9 4h4.5A1.5 1.5 0 0 1 15 5.5v.64c.57.265.94.876.856 1.546l-.64 5.124A2.5 2.5 0 0 1 12.733 15H3.266a2.5 2.5 0 0 1-2.481-2.19l-.64-5.124A1.5 1.5 0 0 1 1 6.14zM2 6h12v-.5a.5.5 0 0 0-.5-.5H9c-.964 0-1.71-.629-2.174-1.154C6.374 3.334 5.82 3 5.264 3H2.5a.5.5 0 0 0-.5.5z"/>
          </svg>
          <span>Open</span>
        </button>
        <div class="import-dropdown">
          <button id="btn-import" class="toolbar-btn" title="Import from Word">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M14 4.5V11h-1V4.5h-2A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v9H2V2a2 2 0 0 1 2-2h5.5L14 4.5ZM3.517 14.841a1.13 1.13 0 0 0 .401.823c.13.108.289.192.478.252.19.061.411.091.665.091.338 0 .624-.053.859-.158.236-.105.416-.252.539-.44.125-.189.187-.408.187-.656 0-.224-.045-.41-.134-.56a1.001 1.001 0 0 0-.375-.357 2.027 2.027 0 0 0-.566-.21l-.621-.144a.97.97 0 0 1-.404-.176.37.37 0 0 1-.144-.299c0-.156.062-.284.185-.384.125-.101.296-.152.512-.152.143 0 .266.023.37.068a.624.624 0 0 1 .246.181.56.56 0 0 1 .12.258h.75a1.092 1.092 0 0 0-.2-.566 1.21 1.21 0 0 0-.5-.41 1.813 1.813 0 0 0-.78-.152c-.293 0-.551.05-.776.15-.225.099-.4.24-.527.421-.127.182-.19.395-.19.639 0 .201.04.376.122.524.082.149.2.27.352.367.152.095.332.167.539.213l.618.144c.207.049.361.113.463.193a.387.387 0 0 1 .152.326.505.505 0 0 1-.085.29.559.559 0 0 1-.255.193c-.111.047-.249.07-.413.07-.117 0-.223-.013-.32-.04a.838.838 0 0 1-.248-.115.578.578 0 0 1-.255-.384h-.765ZM0 14.791c0 .165.027.32.082.466.055.147.137.274.246.381.11.107.247.19.413.25.166.062.357.093.576.093.199 0 .377-.025.534-.076.157-.051.293-.123.408-.216a.97.97 0 0 0 .276-.336c.067-.132.1-.28.1-.44 0-.197-.044-.365-.132-.505a.91.91 0 0 0-.36-.349 1.694 1.694 0 0 0-.534-.197l-.387-.091a.88.88 0 0 1-.345-.154.392.392 0 0 1-.129-.285c0-.124.056-.227.168-.307.111-.08.255-.12.43-.12.15 0 .283.035.397.103a.7.7 0 0 1 .27.265.93.93 0 0 1 .115.367h.77c-.016-.22-.064-.417-.144-.587a1.358 1.358 0 0 0-.317-.427 1.395 1.395 0 0 0-.461-.274 1.619 1.619 0 0 0-.572-.097c-.221 0-.422.037-.603.112a1.26 1.26 0 0 0-.459.316c-.122.135-.217.295-.284.479a1.79 1.79 0 0 0-.1.597c0 .22.042.412.125.577.083.165.204.298.361.4.157.102.346.179.567.233l.433.093c.16.036.289.09.386.161a.35.35 0 0 1 .145.296c0 .115-.049.21-.146.288a.597.597 0 0 1-.387.117c-.187 0-.34-.05-.458-.15a.68.68 0 0 1-.208-.385H0Z"/>
            </svg>
            <span>Import</span>
            <svg width="10" height="10" viewBox="0 0 16 16" fill="currentColor">
              <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
            </svg>
          </button>
          <div id="import-menu" class="import-dropdown-menu hidden">
            <button id="import-word" class="dropdown-item">
              <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
                <path d="M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"/>
              </svg>
              Import from Word (.docx)
            </button>
          </div>
        </div>
        <button id="btn-save" class="toolbar-btn" title="Save (Ctrl+S)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M2 1a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H9.5a1 1 0 0 0-1 1v7.293l2.646-2.647a.5.5 0 0 1 .708.708l-3.5 3.5a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L7.5 9.293V2a2 2 0 0 1 2-2H14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h2.5a.5.5 0 0 1 0 1z"/>
          </svg>
          <span>Save</span>
        </button>
        <button id="btn-history" class="toolbar-btn" title="Document History (Ctrl+H)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z"/>
            <path d="M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z"/>
            <path d="M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"/>
          </svg>
          <span>History</span>
        </button>
        <div class="toolbar-divider"></div>
        <div class="export-dropdown">
          <button id="btn-export" class="toolbar-btn" title="Export">
            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
              <path d="M.5 9.9a.5.5 0 0 1 .5.5v2.5a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.5a.5.5 0 0 1 1 0v2.5a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2v-2.5a.5.5 0 0 1 .5-.5"/>
              <path d="M7.646 11.854a.5.5 0 0 0 .708 0l3-3a.5.5 0 0 0-.708-.708L8.5 10.293V1.5a.5.5 0 0 0-1 0v8.793L5.354 8.146a.5.5 0 1 0-.708.708l3 3z"/>
            </svg>
            <span>Export</span>
            <svg width="10" height="10" viewBox="0 0 16 16" fill="currentColor">
              <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
            </svg>
          </button>
          <div id="export-menu" class="export-dropdown-menu hidden">
            <button id="export-pdf" class="dropdown-item">
              <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                <path d="M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5v2z"/>
                <path d="M4.603 14.087a.81.81 0 0 1-.438-.42c-.195-.388-.13-.776.08-1.102.198-.307.526-.568.897-.787a7.68 7.68 0 0 1 1.482-.645 19.697 19.697 0 0 0 1.062-2.227 7.269 7.269 0 0 1-.43-1.295c-.086-.4-.119-.796-.046-1.136.075-.354.274-.672.65-.823.192-.077.4-.12.602-.077a.7.7 0 0 1 .477.365c.088.164.12.356.127.538.007.188-.012.396-.047.614-.084.51-.27 1.134-.52 1.794a10.954 10.954 0 0 0 .98 1.686 5.753 5.753 0 0 1 1.334.05c.364.066.734.195.96.465.12.144.193.32.2.518.007.192-.047.382-.138.563a1.04 1.04 0 0 1-.354.416.856.856 0 0 1-.51.138c-.331-.014-.654-.196-.933-.417a5.712 5.712 0 0 1-.911-.95 11.651 11.651 0 0 0-1.997.406 11.307 11.307 0 0 1-1.02 1.51c-.292.35-.609.656-.927.787a.793.793 0 0 1-.58.029z"/>
              </svg>
              Export to PDF
            </button>
            <button id="export-docx" class="dropdown-item">
              <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5L14 4.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5h-2z"/>
                <path d="M4.5 12.5A.5.5 0 0 1 5 12h3a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 10h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5zm0-2A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5z"/>
              </svg>
              Export to Word
            </button>
            <button id="export-html" class="dropdown-item">
              <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                <path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"/>
              </svg>
              Export to HTML
            </button>
          </div>
        </div>
        <div class="toolbar-divider"></div>
        <button id="btn-outline" class="toolbar-btn" title="Toggle Outline (Ctrl+Shift+O)">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path fill-rule="evenodd" d="M2 2.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5V3a.5.5 0 0 0-.5-.5zM5 3.5A.5.5 0 0 1 5.5 3h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5M5.5 7a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zm0 4a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1zM2 7a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1A.5.5 0 0 0 3 7zm-.5 4.5A.5.5 0 0 1 2 11h1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5z"/>
          </svg>
          <span>Outline</span>
        </button>
        <button id="btn-beautify" class="toolbar-btn" title="Beautify Markdown">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492M5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0"/>
            <path d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115z"/>
          </svg>
          <span>Beautify</span>
        </button>
      </div>
      <div class="toolbar-center">
        <div class="view-mode-toggle">
          <button id="btn-mode-edit" class="mode-btn" title="Edit Mode (Ctrl+1)">Edit</button>
          <button id="btn-mode-split" class="mode-btn active" title="Split Mode (Ctrl+2)">Split</button>
          <button id="btn-mode-preview" class="mode-btn" title="Preview Mode (Ctrl+3)">Preview</button>
        </div>
      </div>
      <div class="toolbar-right">
        <button id="btn-hints" class="toolbar-btn" title="Formatting Hints">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
            <path d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286m1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94"/>
          </svg>
          <span>Hints</span>
        </button>
        <button id="btn-theme" class="toolbar-btn" title="Toggle Theme">
          <svg id="icon-theme" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 11a3 3 0 1 1 0-6 3 3 0 0 1 0 6m0 1a4 4 0 1 0 0-8 4 4 0 0 0 0 8m.5-9.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m0 11a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0m5-5a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m-11 0a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1m9.743-4.036a.5.5 0 1 1-.707-.707.5.5 0 0 1 .707.707m-7.779 7.779a.5.5 0 1 1-.707-.707.5.5 0 0 1 .707.707m7.072 0a.5.5 0 1 1 .707-.707.5.5 0 0 1-.707.707m-7.779-7.779a.5.5 0 1 1 .707-.707.5.5 0 0 1-.707.707"/>
          </svg>
          <span id="theme-label">System</span>
        </button>
        <button id="btn-about" class="toolbar-btn" title="About down.edit">
          <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
            <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0"/>
          </svg>
          <span>About</span>
        </button>
      </div>
    </header>

    <!-- Tabs -->
    <div class="tabs-container">
      <div id="tabs" class="tabs">
        <!-- Tabs will be inserted here -->
      </div>
    </div>

    <!-- Formatting Toolbar -->
    <div id="formatting-toolbar" class="formatting-toolbar hidden">
      <!-- Text formatting -->
      <div class="format-group">
        <button id="fmt-bold" class="format-btn" title="Bold (Ctrl+B)">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8.21 13c2.106 0 3.412-1.087 3.412-2.823 0-1.306-.984-2.283-2.324-2.386v-.055a2.176 2.176 0 0 0 1.852-2.14c0-1.51-1.162-2.46-3.014-2.46H3.843V13H8.21zM5.908 4.674h1.696c.963 0 1.517.451 1.517 1.244 0 .834-.629 1.32-1.73 1.32H5.908V4.673zm0 6.788V8.598h1.73c1.217 0 1.88.492 1.88 1.415 0 .943-.643 1.449-1.832 1.449H5.907z"/>
          </svg>
        </button>
        <button id="fmt-italic" class="format-btn" title="Italic (Ctrl+I)">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M7.991 11.674 9.53 4.455c.123-.595.246-.71 1.347-.807l.11-.52H7.211l-.11.52c1.06.096 1.128.212 1.005.807L6.57 11.674c-.123.595-.246.71-1.346.806l-.11.52h3.774l.11-.52c-1.06-.095-1.129-.211-1.006-.806z"/>
          </svg>
        </button>
        <button id="fmt-strikethrough" class="format-btn" title="Strikethrough (Ctrl+Shift+S)">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M6.333 5.686c0 .31.083.581.27.814H5.166a2.776 2.776 0 0 1-.099-.76c0-1.627 1.436-2.768 3.48-2.768 1.969 0 3.39 1.175 3.445 2.85h-1.23c-.11-1.08-.964-1.743-2.25-1.743-1.23 0-2.18.602-2.18 1.607zm2.194 7.478c-2.153 0-3.589-1.107-3.705-2.81h1.23c.144 1.06 1.129 1.703 2.544 1.703 1.34 0 2.31-.705 2.31-1.675 0-.827-.547-1.374-1.914-1.675L8.046 8.5H1v-1h14v1h-3.504c.468.437.675.994.675 1.697 0 1.826-1.436 2.967-3.644 2.967z"/>
          </svg>
        </button>
        <button id="fmt-code-inline" class="format-btn" title="Inline Code">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M5.854 4.854a.5.5 0 1 0-.708-.708l-3.5 3.5a.5.5 0 0 0 0 .708l3.5 3.5a.5.5 0 0 0 .708-.708L2.707 8l3.147-3.146zm4.292 0a.5.5 0 0 1 .708-.708l3.5 3.5a.5.5 0 0 1 0 .708l-3.5 3.5a.5.5 0 0 1-.708-.708L13.293 8l-3.147-3.146z"/>
          </svg>
        </button>
      </div>

      <div class="format-divider"></div>

      <!-- Headings -->
      <div class="format-group">
        <div class="format-dropdown">
          <button id="fmt-heading" class="format-btn format-dropdown-btn" title="Heading">
            <span>H</span>
            <svg width="10" height="10" viewBox="0 0 16 16" fill="currentColor">
              <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
            </svg>
          </button>
          <div id="heading-menu" class="format-dropdown-menu hidden">
            <button data-level="1" class="dropdown-item">Heading 1</button>
            <button data-level="2" class="dropdown-item">Heading 2</button>
            <button data-level="3" class="dropdown-item">Heading 3</button>
            <button data-level="4" class="dropdown-item">Heading 4</button>
            <button data-level="5" class="dropdown-item">Heading 5</button>
            <button data-level="6" class="dropdown-item">Heading 6</button>
          </div>
        </div>
      </div>

      <div class="format-divider"></div>

      <!-- Lists -->
      <div class="format-group">
        <button id="fmt-ul" class="format-btn" title="Bullet List (Ctrl+L)">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm-3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm0 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
          </svg>
        </button>
        <button id="fmt-ol" class="format-btn" title="Numbered List (Ctrl+Shift+L)">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path fill-rule="evenodd" d="M5 11.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5z"/>
            <path d="M1.713 11.865v-.474H2c.217 0 .363-.137.363-.317 0-.185-.158-.31-.361-.31-.223 0-.367.152-.373.31h-.59c.016-.467.373-.787.986-.787.588-.002.954.291.957.703a.595.595 0 0 1-.492.594v.033a.615.615 0 0 1 .569.631c.003.533-.502.8-1.051.8-.656 0-1-.37-1.008-.794h.582c.008.178.186.306.422.309.254 0 .424-.145.422-.35-.002-.195-.155-.348-.414-.348h-.3zm-.004-4.699h-.604v-.035c0-.408.295-.844.958-.844.583 0 .96.326.96.756 0 .389-.257.617-.476.848l-.537.572v.03h1.054V9H1.143v-.395l.957-.99c.138-.142.293-.304.293-.508 0-.18-.147-.32-.342-.32a.33.33 0 0 0-.342.338v.041zM2.564 5h-.635V2.924h-.031l-.598.42v-.567l.629-.443h.635V5z"/>
          </svg>
        </button>
        <button id="fmt-task" class="format-btn" title="Task List">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
            <path d="M10.97 4.97a.75.75 0 0 1 1.071 1.05l-3.992 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.235.235 0 0 1 .02-.022z"/>
          </svg>
        </button>
      </div>

      <div class="format-divider"></div>

      <!-- Block elements -->
      <div class="format-group">
        <button id="fmt-quote" class="format-btn" title="Blockquote (Ctrl+Q)">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M12 12a1 1 0 0 0 1-1V8.558a1 1 0 0 0-1-1h-1.388c0-.351.021-.703.062-1.054.062-.372.166-.703.31-.992.145-.29.331-.517.559-.683.227-.186.516-.279.868-.279V3c-.579 0-1.085.124-1.52.372a3.322 3.322 0 0 0-1.085.992 4.92 4.92 0 0 0-.62 1.458A7.712 7.712 0 0 0 9 7.558V11a1 1 0 0 0 1 1h2Zm-6 0a1 1 0 0 0 1-1V8.558a1 1 0 0 0-1-1H4.612c0-.351.021-.703.062-1.054.062-.372.166-.703.31-.992.145-.29.331-.517.559-.683.227-.186.516-.279.868-.279V3c-.579 0-1.085.124-1.52.372a3.322 3.322 0 0 0-1.085.992 4.92 4.92 0 0 0-.62 1.458A7.712 7.712 0 0 0 3 7.558V11a1 1 0 0 0 1 1h2Z"/>
          </svg>
        </button>
        <button id="fmt-hr" class="format-btn" title="Horizontal Rule">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M0 8a.5.5 0 0 1 .5-.5h15a.5.5 0 0 1 0 1H.5A.5.5 0 0 1 0 8z"/>
          </svg>
        </button>
      </div>

      <div class="format-divider"></div>

      <!-- Insert elements -->
      <div class="format-group">
        <button id="fmt-link" class="format-btn" title="Insert Link (Ctrl+K)">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M4.715 6.542 3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.002 1.002 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z"/>
            <path d="M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 1 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 1 0-4.243-4.243L6.586 4.672z"/>
          </svg>
        </button>
        <button id="fmt-image" class="format-btn" title="Insert Image (Ctrl+Shift+I)">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M6.002 5.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0z"/>
            <path d="M2.002 1a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2h-12zm12 1a1 1 0 0 1 1 1v6.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062L1.002 12V3a1 1 0 0 1 1-1h12z"/>
          </svg>
        </button>
        <button id="fmt-table" class="format-btn" title="Insert Table">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"/>
          </svg>
        </button>
        <button id="fmt-code-block" class="format-btn" title="Insert Code Block (Ctrl+Shift+C)">
          <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
            <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
            <path d="M6.854 4.646a.5.5 0 0 1 0 .708L4.207 8l2.647 2.646a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 0 1 .708 0zm2.292 0a.5.5 0 0 0 0 .708L11.793 8l-2.647 2.646a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708 0z"/>
          </svg>
        </button>
      </div>
    </div>

    <!-- Link Dialog -->
    <div id="link-dialog" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>Insert Link</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="link-text">Link Text</label>
            <input type="text" id="link-text" placeholder="Display text">
          </div>
          <div class="form-group">
            <label for="link-url">URL</label>
            <input type="url" id="link-url" placeholder="https://example.com">
          </div>
          <div class="form-group">
            <label for="link-title">Title (optional)</label>
            <input type="text" id="link-title" placeholder="Link title">
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" data-close>Cancel</button>
          <button id="link-insert" class="btn-primary">Insert</button>
        </div>
      </div>
    </div>

    <!-- Image Dialog -->
    <div id="image-dialog" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>Insert Image</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <div class="image-source-tabs">
            <button id="image-tab-url" class="image-tab active" data-tab="url">From URL</button>
            <button id="image-tab-file" class="image-tab" data-tab="file">From File</button>
          </div>
          <div id="image-source-url" class="image-source-panel">
            <div class="form-group">
              <label for="image-url">Image URL</label>
              <input type="url" id="image-url" placeholder="https://example.com/image.png">
            </div>
          </div>
          <div id="image-source-file" class="image-source-panel hidden">
            <div class="form-group">
              <label>Select Image File</label>
              <div class="file-picker">
                <input type="text" id="image-file-path" placeholder="No file selected" readonly>
                <button id="image-browse-btn" class="btn-secondary">Browse...</button>
              </div>
              <div id="image-preview" class="image-preview hidden">
                <img id="image-preview-img" src="" alt="Preview">
              </div>
            </div>
          </div>
          <div class="form-group">
            <label for="image-alt">Alt Text</label>
            <input type="text" id="image-alt" placeholder="Image description">
          </div>
          <div class="form-group">
            <label for="image-title">Title (optional)</label>
            <input type="text" id="image-title" placeholder="Image title">
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" data-close>Cancel</button>
          <button id="image-insert" class="btn-primary">Insert</button>
        </div>
      </div>
    </div>

    <!-- Table Dialog -->
    <div id="table-dialog" class="modal-overlay hidden">
      <div class="modal modal-xl">
        <div class="modal-header">
          <h3>Insert Table</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <div class="table-editor-container">
            <!-- Toolbar -->
            <div class="table-editor-toolbar">
              <button id="table-add-row" class="table-toolbar-btn" title="Add Row">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                  <path d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
                </svg>
                Add Row
              </button>
              <button id="table-add-col" class="table-toolbar-btn" title="Add Column">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                  <path d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2"/>
                </svg>
                Add Column
              </button>
              <div class="table-toolbar-divider"></div>
              <button id="table-remove-row" class="table-toolbar-btn" title="Remove Row">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                  <path d="M2.5 8a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
                </svg>
                Remove Row
              </button>
              <button id="table-remove-col" class="table-toolbar-btn" title="Remove Column">
                <svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor">
                  <path d="M2.5 8a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
                </svg>
                Remove Column
              </button>
            </div>
            
            <!-- Visual Table Editor -->
            <div class="table-grid-wrapper">
              <table id="table-grid" class="table-grid">
                <!-- Generated dynamically -->
              </table>
            </div>
            
            <p class="table-hint">Use Tab to move between cells. First row is the header.</p>
            
            <!-- Alignment Controls -->
            <div class="table-alignment-section">
              <label>Column Alignment:</label>
              <div id="table-alignment" class="alignment-controls">
                <!-- Will be populated dynamically -->
              </div>
            </div>
            
            <!-- Markdown Preview -->
            <div class="table-markdown-section">
              <label>Markdown Output:</label>
              <pre id="table-markdown-preview" class="table-markdown-preview"></pre>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" data-close>Cancel</button>
          <button id="table-insert" class="btn-primary">Insert Table</button>
        </div>
      </div>
    </div>

    <!-- Code Block Dialog -->
    <div id="code-dialog" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>Insert Code Block</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="code-language">Language</label>
            <select id="code-language">
              <option value="">Plain text</option>
              <option value="javascript">JavaScript</option>
              <option value="typescript">TypeScript</option>
              <option value="python">Python</option>
              <option value="rust">Rust</option>
              <option value="go">Go</option>
              <option value="java">Java</option>
              <option value="csharp">C#</option>
              <option value="cpp">C++</option>
              <option value="c">C</option>
              <option value="php">PHP</option>
              <option value="ruby">Ruby</option>
              <option value="swift">Swift</option>
              <option value="kotlin">Kotlin</option>
              <option value="sql">SQL</option>
              <option value="bash">Bash</option>
              <option value="powershell">PowerShell</option>
              <option value="html">HTML</option>
              <option value="css">CSS</option>
              <option value="json">JSON</option>
              <option value="yaml">YAML</option>
              <option value="xml">XML</option>
              <option value="markdown">Markdown</option>
              <option value="dockerfile">Dockerfile</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" data-close>Cancel</button>
          <button id="code-insert" class="btn-primary">Insert</button>
        </div>
      </div>
    </div>

    <!-- PDF Export Dialog -->
    <div id="pdf-dialog" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>Export to PDF</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="pdf-theme">Theme</label>
            <select id="pdf-theme">
              <option value="professional">Professional</option>
              <option value="academic">Academic</option>
              <option value="minimal">Minimal</option>
            </select>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="pdf-pagesize">Page Size</label>
              <select id="pdf-pagesize">
                <option value="letter" selected>Letter (8.5 × 11 in)</option>
                <option value="legal">Legal (8.5 × 14 in)</option>
                <option value="tabloid">Tabloid (11 × 17 in)</option>
                <option value="a4">A4 (210 × 297 mm)</option>
              </select>
            </div>
            <div class="form-group">
              <label for="pdf-margin">Margin (inches)</label>
              <input type="number" id="pdf-margin" value="1" min="0.25" max="2" step="0.25">
            </div>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="pdf-fontsize">Font Size (pt)</label>
              <input type="number" id="pdf-fontsize" value="11" min="8" max="16">
            </div>
            <div class="form-group">
              <label for="pdf-lineheight">Line Height</label>
              <input type="number" id="pdf-lineheight" value="1.5" min="1" max="3" step="0.1">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" data-close>Cancel</button>
          <button id="pdf-export-btn" class="btn-primary">Export PDF</button>
        </div>
      </div>
    </div>

    <!-- Word Export Dialog -->
    <div id="docx-dialog" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>Export to Word</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-row">
            <div class="form-group">
              <label for="docx-pagesize">Page Size</label>
              <select id="docx-pagesize">
                <option value="letter" selected>Letter (8.5 × 11 in)</option>
                <option value="legal">Legal (8.5 × 14 in)</option>
                <option value="a4">A4 (210 × 297 mm)</option>
              </select>
            </div>
            <div class="form-group">
              <label for="docx-margin">Margin (inches)</label>
              <input type="number" id="docx-margin" value="1" min="0.25" max="2" step="0.25">
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" data-close>Cancel</button>
          <button id="docx-export-btn" class="btn-primary">Export Word</button>
        </div>
      </div>
    </div>

    <!-- HTML Export Dialog -->
    <div id="html-dialog" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>Export to HTML</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label for="html-style">Style</label>
            <select id="html-style">
              <option value="standalone" selected>Standalone (with embedded CSS)</option>
              <option value="minimal">Minimal (basic styling)</option>
              <option value="raw">Raw (no styling)</option>
            </select>
          </div>
          <div class="form-group">
            <label>
              <input type="checkbox" id="html-darkmode" checked>
              Include dark mode support
            </label>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" data-close>Cancel</button>
          <button id="html-export-btn" class="btn-primary">Export HTML</button>
        </div>
      </div>
    </div>

    <!-- Beautifier Dialog -->
    <div id="beautify-dialog" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>Beautify Markdown</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body">
          <p class="modal-description">Clean up and format your markdown with these options:</p>
          
          <div class="beautify-options">
            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" id="beautify-headings" checked>
                <span>Normalize headings (ATX style with #)</span>
              </label>
            </div>
            
            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" id="beautify-lists" checked>
                <span>Normalize list markers</span>
              </label>
              <div class="sub-option">
                <label for="beautify-list-marker">List marker:</label>
                <select id="beautify-list-marker">
                  <option value="-" selected>Dash (-)</option>
                  <option value="*">Asterisk (*)</option>
                  <option value="+">Plus (+)</option>
                </select>
              </div>
            </div>
            
            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" id="beautify-spacing" checked>
                <span>Fix spacing (consistent blank lines)</span>
              </label>
            </div>
            
            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" id="beautify-indent" checked>
                <span>Indent nested lists properly</span>
              </label>
            </div>
            
            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" id="beautify-wrap">
                <span>Wrap long lines</span>
              </label>
              <div class="sub-option">
                <label for="beautify-wrap-width">Wrap at column:</label>
                <input type="number" id="beautify-wrap-width" value="80" min="40" max="200">
              </div>
            </div>
            
            <div class="form-group">
              <label class="checkbox-label">
                <input type="checkbox" id="beautify-trailing" checked>
                <span>Remove trailing spaces</span>
              </label>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn-secondary" data-close>Cancel</button>
          <button id="beautify-apply" class="btn-primary">Beautify</button>
        </div>
      </div>
    </div>

    <!-- About Dialog -->
    <div id="about-dialog" class="modal-overlay hidden">
      <div class="modal">
        <div class="modal-header">
          <h3>About down.edit</h3>
          <button class="modal-close" data-close>&times;</button>
        </div>
        <div class="modal-body about-content">
          <div class="about-logo">
            <img src="/src/assets/logo.png" alt="down.edit" onerror="this.style.display='none'">
          </div>
          <div class="about-info">
            <h2>down.edit</h2>
            <p class="about-version">Version <span id="app-version">0.2.1</span></p>
            <p class="about-tagline">A privacy-first Markdown editor</p>
          </div>
          <div class="about-details">
            <p>Write freely. Own everything.</p>
            <p>No cloud. No account. No telemetry.</p>
          </div>
          <div class="about-links">
            <a href="https://github.com/VectorForgeAI/downedit" target="_blank" class="about-link">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
              </svg>
              GitHub Repository
            </a>
            <a href="https://github.com/VectorForgeAI/downedit/blob/main/USER_GUIDE.md" target="_blank" class="about-link">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M1 2.828c.885-.37 2.154-.769 3.388-.893 1.33-.134 2.458.063 3.112.752v9.746c-.935-.53-2.12-.603-3.213-.493-1.18.12-2.37.461-3.287.811V2.828zm7.5-.141c.654-.689 1.782-.886 3.112-.752 1.234.124 2.503.523 3.388.893v9.923c-.918-.35-2.107-.692-3.287-.81-1.094-.111-2.278-.039-3.213.492V2.687zM8 1.783C7.015.936 5.587.81 4.287.94c-1.514.153-3.042.672-3.994 1.105A.5.5 0 0 0 0 2.5v11a.5.5 0 0 0 .707.455c.882-.4 2.303-.881 3.68-1.02 1.409-.142 2.59.087 3.223.877a.5.5 0 0 0 .78 0c.633-.79 1.814-1.019 3.222-.877 1.378.139 2.8.62 3.681 1.02A.5.5 0 0 0 16 13.5v-11a.5.5 0 0 0-.293-.455c-.952-.433-2.48-.952-3.994-1.105C10.413.809 8.985.936 8 1.783z"/>
              </svg>
              User Guide
            </a>
            <a href="https://github.com/VectorForgeAI/downedit/issues" target="_blank" class="about-link">
              <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
                <path d="M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"/>
              </svg>
              Report an Issue
            </a>
          </div>
          <div class="about-license">
            <p><strong>License:</strong> MIT License</p>
            <p class="about-copyright">Copyright 2026 VectorForge AI</p>
          </div>
          <p class="about-footer">Made out of necessity by the VectorForge AI team.</p>
        </div>
        <div class="modal-footer">
          <button class="btn-primary" data-close>Close</button>
        </div>
      </div>
    </div>

    <!-- Formatting Hints Panel -->
    <div id="hints-panel" class="hints-panel hidden">
      <div class="hints-header">
        <h3>Formatting Hints</h3>
        <button id="btn-close-hints" class="btn-icon" title="Close">&times;</button>
      </div>
      <div class="hints-content">
        <div class="hints-section">
          <h4>Text Formatting</h4>
          <div class="hint-item">
            <code>**bold**</code>
            <span class="hint-result"><strong>bold</strong></span>
          </div>
          <div class="hint-item">
            <code>*italic*</code>
            <span class="hint-result"><em>italic</em></span>
          </div>
          <div class="hint-item">
            <code>***bold & italic***</code>
            <span class="hint-result"><strong><em>bold & italic</em></strong></span>
          </div>
          <div class="hint-item">
            <code>~~strikethrough~~</code>
            <span class="hint-result"><del>strikethrough</del></span>
          </div>
          <div class="hint-item">
            <code>`inline code`</code>
            <span class="hint-result"><code>inline code</code></span>
          </div>
        </div>

        <div class="hints-section">
          <h4>Headings</h4>
          <div class="hint-item">
            <code># Heading 1</code>
            <span class="hint-desc">Largest heading</span>
          </div>
          <div class="hint-item">
            <code>## Heading 2</code>
            <span class="hint-desc">Second level</span>
          </div>
          <div class="hint-item">
            <code>### Heading 3</code>
            <span class="hint-desc">Third level</span>
          </div>
        </div>

        <div class="hints-section">
          <h4>Lists</h4>
          <div class="hint-item">
            <code>- Item</code>
            <span class="hint-desc">Bullet list</span>
          </div>
          <div class="hint-item">
            <code>1. Item</code>
            <span class="hint-desc">Numbered list</span>
          </div>
          <div class="hint-item">
            <code>- [x] Done</code>
            <span class="hint-desc">Task (checked)</span>
          </div>
          <div class="hint-item">
            <code>- [ ] Todo</code>
            <span class="hint-desc">Task (unchecked)</span>
          </div>
        </div>

        <div class="hints-section">
          <h4>Links & Images</h4>
          <div class="hint-item">
            <code>[text](url)</code>
            <span class="hint-desc">Link</span>
          </div>
          <div class="hint-item">
            <code>![alt](image.jpg)</code>
            <span class="hint-desc">Image</span>
          </div>
        </div>

        <div class="hints-section">
          <h4>Blocks</h4>
          <div class="hint-item">
            <code>> Quote text</code>
            <span class="hint-desc">Blockquote</span>
          </div>
          <div class="hint-item hint-block">
            <code>```language<br>code<br>```</code>
            <span class="hint-desc">Code block</span>
          </div>
          <div class="hint-item">
            <code>---</code>
            <span class="hint-desc">Horizontal rule</span>
          </div>
        </div>

        <div class="hints-section">
          <h4>Tables</h4>
          <div class="hint-item hint-block">
            <code>| Col 1 | Col 2 |<br>| --- | --- |<br>| A | B |</code>
          </div>
        </div>
      </div>
    </div>

    <!-- Main content area -->
    <div class="main-container">
      <!-- Outline panel -->
      <aside id="outline-panel" class="outline-panel hidden">
        <div class="outline-header">
          <h3>Outline</h3>
          <button id="btn-close-outline" class="btn-icon" title="Close">x</button>
        </div>
        <nav id="outline-content" class="outline-content">
          <!-- Outline items will be inserted here -->
        </nav>
      </aside>

      <!-- Content area -->
      <main id="content-area" class="content-area">
        <div id="welcome" class="welcome-screen">
          <div class="welcome-icon">
            <svg width="64" height="64" viewBox="0 0 16 16" fill="currentColor">
              <path d="M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"/>
              <path d="M4.5 6.5A.5.5 0 0 1 5 6h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5m0 2A.5.5 0 0 1 5 8h6a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5m0 2a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1H5a.5.5 0 0 1-.5-.5"/>
            </svg>
          </div>
          <h2>Welcome to down.edit</h2>
          <p>Open a markdown file to get started, or create a new one</p>
          <div class="welcome-actions">
            <button id="btn-new-welcome" class="btn-primary">New File</button>
            <button id="btn-open-welcome" class="btn-secondary">Open File</button>
          </div>
          <div class="welcome-hint">
            <p>Or drag and drop a .md or .txt file here</p>
            <p class="shortcut-hint">Ctrl+N new file &bull; Ctrl+O open file</p>
          </div>
        </div>

        <!-- Split editor view -->
        <div id="editor-container" class="editor-container hidden">
          <div id="editor-pane" class="editor-pane">
            <div class="editor-wrapper">
              <div id="line-numbers" class="line-numbers">1</div>
              <textarea id="editor" class="editor" placeholder="Start typing your markdown here..." spellcheck="false"></textarea>
            </div>
          </div>
          <div id="resize-handle" class="resize-handle"></div>
          <div id="preview-pane" class="preview-pane">
            <div id="viewer" class="markdown-viewer">
              <!-- Rendered markdown will appear here -->
            </div>
          </div>
        </div>
      </main>

      <!-- History panel -->
      <aside id="history-panel" class="history-panel hidden">
        <div class="history-header">
          <h3>History</h3>
          <button id="btn-close-history" class="btn-icon" title="Close">x</button>
        </div>
        <div id="history-content" class="history-content">
          <!-- History items will be inserted here -->
        </div>
      </aside>
    </div>

    <!-- Status bar -->
    <footer id="status-bar" class="status-bar hidden">
      <div class="status-left">
        <span id="status-autosave" class="status-item">
          <span class="autosave-indicator"></span>
          <span id="autosave-text">Auto-saved</span>
        </span>
      </div>
      <div class="status-right">
        <span id="status-line" class="status-item">Ln 1, Col 1</span>
        <span class="status-divider">&bull;</span>
        <span id="status-wordcount" class="status-item">0 words</span>
        <span class="status-divider">&bull;</span>
        <span id="status-charcount" class="status-item">0 characters</span>
      </div>
    </footer>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
